<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ["$", "$"],
          ["\\(", "\\)"],
        ],
      },
      svg: {
        fontCache: "global",
      },
    };
  </script>
  <script
    type="text/javascript"
    id="MathJax-script"
    async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
  ></script>
  <head>
    <title>Proj 4a</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
    </style>
  </head>
  <body>
    <h1>Project 4a - Image Warping and Mosaicing</h1>

    <h3>By Ethan Chen</h3>

    <h2>Introduction</h2>

    <p>This project aims to</p>

    <h2>Part 1: Shoot the Pictures</h2>

    <p>
      I took images on my phone while keeping my hand still and adjusting the angle while keeping
      the imaginary vertical center of my phone in the same location. I ensured I had some overlap
      amongst the set of images and included noticeably different elements, like a lamp post or a
      new building, in those images.
      <br />
      <br />
      I have included the raw images with points in a later section so they can be closer to the
      warped images and blended mosaics.
    </p>

    <h2>Part 2: Recover Homographies</h2>

    <p>
      To recover homographies - which is how we transform/warp one image to another's
      <b>projective plane</b>, we can solve a system of equations, which is equivalent to solving
      for the vector of $H$ values in $AH = B$, where in $A$, $B$, $x_i, y_i$ are the coordinates of
      the source image and $x_i^\prime, y_i^\prime$ are the coordinates of the destination image,
      and $i$ is the number of pairs of correspondence points.
    </p>

    <!-- prettier-ignore -->
    <div class="large-mathjax">
      $
      \begin{bmatrix}
        x_1 & y_1 & 1 & 0 & 0 & 0 & -x_1^\prime x_1 & -x_1^\prime y_1 \\
        0 & 0 & 0 & x_1 & y_1 & 1 & -y_1^\prime x_1 & -y_1^\prime y_1 \\
        x_2 & y_2 & 1 & 0 & 0 & 0 & -x_2^\prime x_2 & -x_2^\prime y_2 \\
        0 & 0 & 0 & x_2 & y_2 & 1 & -y_2^\prime x_2 & -y_2^\prime y_2 \\
        x_3 & y_3 & 1 & 0 & 0 & 0 & -x_3^\prime x_3 & -x_3^\prime y_3 \\
        0 & 0 & 0 & x_3 & y_3 & 1 & -y_3^\prime x_3 & -y_3^\prime y_3 \\
        & & & & \vdots & & &
      \end{bmatrix}
      \begin{bmatrix}
        h_1 \\
        h_2 \\
        h_3 \\
        h_4 \\
        h_5 \\
        h_6 \\
        h_7 \\
        h_8
      \end{bmatrix}
      =
      \begin{bmatrix}
        x_1^\prime \\
        y_1^\prime \\
        x_2^\prime \\
        y_2^\prime \\
        x_3^\prime \\
        y_3^\prime \\
        \vdots
      \end{bmatrix}
      $
    </div>

    <p>Then, we can reshape the homography matrix to be 3 by 3.</p>

    <!-- prettier-ignore -->
    <div class="large-mathjax">
      $
      H =
      \begin{bmatrix}
        h_1 & h_2 & h_3 \\
        h_4 & h_5 & h_6 \\
        h_7 & h_8 & 1 \\
      \end{bmatrix}
      $
    </div>

    <h2>Part 3: Warp the Images</h2>

    <p>Here are the three sets of my original images with the correspondence points plotted.</p>

    <h3 class="h3-centered">BWW 1211</h3>

    <div class="image-container-4">
      <div class="image-item">
        <h4 class="image-title">Left</h4>
        <div class="image-wrapper">
          <img src="media/output_images/bww_1211_left_points.jpg" alt="bww_1211_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the left image into)</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_1211_middle_with_left_points.jpg"
            alt="bww_1211_middle_with_left_points.jpg"
          />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the right image into)</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_1211_middle_with_left_points.jpg"
            alt="bww_1211_middle_with_left_points.jpg"
          />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Right</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_1211_right_points.jpg"
            alt="bww_1211_right_points.jpg"
          />
        </div>
      </div>
    </div>

    <h3 class="h3-centered">BWW Outside Window of 2nd Floor</h3>

    <div class="image-container-4">
      <div class="image-item">
        <h4 class="image-title">Left</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_floor2_left_points.jpg"
            alt="bww_floor2_left_points.jpg"
          />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the left image into)</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_floor2_middle_with_left_points.jpg"
            alt="bww_floor2_middle_with_left_points.jpg"
          />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the right image into)</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_floor2_middle_with_right_points.jpg"
            alt="bww_floor2_middle_with_right_points.jpg"
          />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Right</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_floor2_right_points.jpg"
            alt="bww_floor2_right_points.jpg"
          />
        </div>
      </div>
    </div>

    <h3 class="h3-centered">Campanile During the Day</h3>

    <div class="image-container-4">
      <div class="image-item">
        <h4 class="image-title">Left</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_day_left_points.jpg" alt="campanile_day_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the left image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_day_middle_with_left_points.jpg" alt="campanile_day_middle_with_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the right image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_day_middle_with_right_points.jpg" alt="campanile_day_middle_with_right_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Right</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_day_right_points.jpg" alt="campanile_day_right_points.jpg" />
        </div>
      </div>
    </div>

    <h3 class="h3-centered">Campanile During the Night</h3>

    <div class="image-container-4">
      <div class="image-item">
        <h4 class="image-title">Left</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_night_left_points.jpg" alt="campanile_night_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the left image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_night_middle_with_left_points.jpg" alt="campanile_night_middle_with_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the right image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_night_middle_with_right_points.jpg" alt="campanile_night_middle_with_right_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Right</h4>
        <div class="image-wrapper">
          <img src="media/output_images/campanile_night_right_points.jpg" alt="campanile_night_right_points.jpg" />
        </div>
      </div>
    </div>

    <h3 class="h3-centered">Cory Elevators</h3>

    <div class="image-container-4">
      <div class="image-item">
        <h4 class="image-title">Left</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_elevators_left_points.jpg" alt="cory_elevators_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the left image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_elevators_middle_with_left_points.jpg" alt="cory_elevators_middle_with_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the right image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_elevators_middle_with_right_points.jpg" alt="cory_elevators_middle_with_right_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Right</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_elevators_right_points.jpg" alt="cory_elevators_right_points.jpg" />
        </div>
      </div>
    </div>

    <h3 class="h3-centered">Cory Hallway</h3>

    <div class="image-container-4">
      <div class="image-item">
        <h4 class="image-title">Left</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_hallway_left_points.jpg" alt="cory_hallway_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the left image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_hallway_middle_with_left_points.jpg" alt="cory_hallway_middle_with_left_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Middle (to warp the right image into)</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_hallway_middle_with_right_points.jpg" alt="cory_hallway_middle_with_right_points.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Right</h4>
        <div class="image-wrapper">
          <img src="media/output_images/cory_hallway_right_points.jpg" alt="cory_hallway_right_points.jpg" />
        </div>
      </div>
    </div>

    <h2>Part 4: Image Rectification</h2>

    Find points on the planar surface. Destination points should be a rectangle, like for the
    keyboard.

    <p></p>

    <h2>Part 5: Blend the Images into a Mosaic</h2>

    <p>TBD Process</p>

    <h3 class="h3-centered">BWW 1211</h3>

    <div class="image-container-2">
      <div class="image-item">
        <h4 class="image-title">Naive</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_1211_naive_blending.jpg"
            alt="bww_1211_naive_blending.jpg"
          />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Gaussian and Laplacian Stacks</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_1211_blended_mosaic.jpg"
            alt="bww_1211_blended_mosaic.jpg"
          />
        </div>
      </div>
    </div>

    <h3 class="h3-centered">BWW Outside Window of 2nd Floor</h3>

    <div class="image-container-2">
      <div class="image-item">
        <h4 class="image-title">Naive</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_floor2_naive_blending.jpg"
            alt="bww_floor2_naive_blending.jpg"
          />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Gaussian and Laplacian Stacks</h4>
        <div class="image-wrapper">
          <img
            src="media/output_images/bww_floor2_blended_mosaic.jpg"
            alt="bww_floor2_blended_mosaic.jpg"
          />
        </div>
      </div>
    </div>

    <h3 class="h3-centered">TBD</h3>

    <div class="image-container-2">
      <div class="image-item">
        <h4 class="image-title">Naive</h4>
        <div class="image-wrapper">
          <img src="media/output_images/.jpg" alt=".jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Gaussian and Laplacian Stacks</h4>
        <div class="image-wrapper">
          <img src="media/output_images/.jpg" alt=".jpg" />
        </div>
      </div>
    </div>

    <p>TBD Analyze images and explain differences.</p>

    <h2>Part 6: Bells and Whistles</h2>

    <p></p>
  </body>
</html>
