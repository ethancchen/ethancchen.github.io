<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="styles.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ["$", "$"],
          ["\\(", "\\)"],
        ],
      },
      svg: {
        fontCache: "global",
      },
    };
  </script>
  <script
    type="text/javascript"
    id="MathJax-script"
    async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
  ></script>
  <head>
    <title>Proj 2</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
    </style>
  </head>
  <body>
    <h1>Project 2 - Fun with Filters and Frequencies!</h1>

    <h3>By Ethan Chen</h3>

    <h2>Introduction</h2>

    <p>
      This project aims to
      <b>TODOTODOTODOTODOTODOTODOTODOTODO</b> programatically apply image processing techniques on photos from the
      Prokudin-Gorskii collection, primarily with a naive approach then a pyramid approach, to produce an image with
      color.
    </p>

    <h2>Part 1: Fun with Filters</h2>

    <h3>Goals</h3>

    <h3>Part 1.1: Finite Difference Operator</h3>

    <p>
      In this part, we aim to construct an edge image with a Gaussian kernel. To find the partial derivative in x and y
      (which show the intensity change in the horizontal and vertical directions, respectively), we first convolve the
      image with the finite difference operators
      <code>D_x = [1, -1]</code> and <code>D_y = [1, -1]^T</code>. I chose a Visually looking at the image, I decided
      that a <code>threshold = 0.2</code> looked the best. This highlghted the high frequencies of the image without
      including too much noise, which would clutter the binarized edge image.
    </p>

    <h3>Part 1.2: Derivative of Gaussian (DoG) Filter</h3>

    <p>
      Now, we can create and use a derivative of Gaussian filter to convolve the image. Slide 33 of our lecture on
      <strong>Image Processing II: Convolution and Derivatives</strong> shared a rule of thumb of choosing a half-width
      of 3$\sigma$ so I chose 6 as the multiplication factor so I chose <code>sigma = 6</code> and
      <code>kernel_size = 6 * sigma</code>. The <code>sigma</code> is chosen after some manual checks.
    </p>

    <h2>Part 2: Fun with Frequencies!</h2>

    <h3>Part 2.1: Image "Sharpening"</h3>

    <p>
      First, with the original image, we blur it (low-pass) with a Gaussian filter individually to each RGB channel,
      effectively removing high-frequency details like fine edges and textures. Then, we sharpen the image through
      unsharp masking by multiplying the high-frequency parts with a $\alpha$.
    </p>

    <p>Look into https://scikit-image.org/docs/stable/auto_examples/filters/plot_unsharp_mask.html for more info.</p>

    <h3>Part 2.2: Hybrid Images</h3>

    <h3>Bells & Whistles</h3>

    <h2>Multi-resolution Blending and the Oraple journey</h2>

    <h3>Part 2.3: Gaussian and Laplacian Stacks</h3>

    <p>
      Gaussian stack Laplacian stack Normalize Both can clip even though the code to display images automatically clips
      for us.
    </p>

    <h3>Part 2.4: Multiresolution Blending (a.k.a. the oraple!)</h3>

    <div class="image-container-1">
      <div class="image-item">
        <h4 class="image-title">Blended Oraple</h4>
        <img src="media/output/oraple.jpg" alt="oraple.jpg" />
      </div>
    </div>

    <p>
      We export the mask image from Adobe Photoshop as JPG so our image has 3 channels. Exporting as PNG will give 4
      channels.
      <br />
      <br />

      We blend Curry's face onto LeBron's since the Curry's face is larger than LeBron's in the aligned images. The
      quality of all 5 images below is not high. We will use higher quality examples below to better illustrate the
      results.
    </p>

    <div class="image-container-2">
      <div class="image-item">
        <h4 class="image-title">LeBron James</h4>
        <div class="image-wrapper">
          <img src="media/input/lebron.jpg" alt="lebron.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Steph Curry</h4>
        <div class="image-wrapper">
          <img src="media/input/curry.jpg" alt="curry.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Aligned LeBron James</h4>
        <div class="image-wrapper">
          <img src="media/output/lebron_aligned.jpg" alt="lebron_aligned.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Aligned Steph Curry</h4>
        <div class="image-wrapper">
          <img src="media/output/curry_aligned.jpg" alt="curry_aligned.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Blended Image of Steph Curry's face onto LeBron James</h4>
        <div class="image-wrapper">
          <img src="media/output/blended_curry_lebron.jpg" alt="blended_curry_lebron.jpg" />
        </div>
      </div>
    </div>

    <div class="image-container-2">
      <div class="image-item">
        <h4 class="image-title">Barcelona Skyline</h4>
        <div class="image-wrapper">
          <img src="media/input/barcelona_skyline.jpg" alt="barcelona_skyline.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">SF Night Sky</h4>
        <div class="image-wrapper">
          <img src="media/input/sf_night_sky.jpg" alt="sf_night_sky.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Aligned Barcelona Skyline</h4>
        <div class="image-wrapper">
          <img src="media/output/barcelona_skyline_aligned.jpg" alt="barcelona_skyline_aligned.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Aligned SF Night Sky</h4>
        <div class="image-wrapper">
          <img src="media/output/sf_night_sky_aligned.jpg" alt="sf_night_sky_aligned.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Blended Image of Barcelona's Skyline with SF Night Sky</h4>
        <div class="image-wrapper">
          <img
            src="media/output/blended_barcelona_skyline_sf_night_sky.jpg"
            alt="blended_barcelona_skyline_sf_night_sky.jpg"
          />
        </div>
      </div>
    </div>

    <p>
      The blended image above has rather abrupt changes from bright buildings to ones in the night time. Also, the dark
      patches in some of Barcelona's city view are awkward. The shadow makes it feel like some clouds are hovering over
      Barcelona's buildings near the blurred edge.
    </p>

    <div class="image-container-2">
      <div class="image-item">
        <h4 class="image-title">Barcelona Night Sky</h4>
        <div class="image-wrapper">
          <img src="media/input/barcelona_night_sky.jpg" alt="barcelona_night_sky.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">SF Night Sky</h4>
        <div class="image-wrapper">
          <img src="media/input/sf_night_sky.jpg" alt="sf_night_sky.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Aligned Barcelona Night Sky</h4>
        <div class="image-wrapper">
          <img src="media/output/barcelona_night_sky_aligned.jpg" alt="barcelona_night_sky_aligned.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Aligned SF Night Sky</h4>
        <div class="image-wrapper">
          <img src="media/output/sf_night_sky_aligned.jpg" alt="sf_night_sky_aligned.jpg" />
        </div>
      </div>
      <div class="image-item">
        <h4 class="image-title">Blended Image of Barcelona's Night Sky with SF Night Sky</h4>
        <div class="image-wrapper">
          <img
            src="media/output/blended_barcelona_night_sky_sf_night_sky.jpg"
            alt="blended_barcelona_night_sky_sf_night_sky.jpg"
          />
        </div>
      </div>
    </div>

    <p>The blended image now has less sudden changes from one image to another.</p>

    <h3>Bells & Whistles</h3>

    <h2>Reflection</h2>
  </body>
</html>
